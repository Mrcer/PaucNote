# 数字系统、运算和编码
## 进制转换
* 基是一个位的容量，是次幂计算的基数
* 权是位的大小，是次幂计算的指数
* 整数用正次幂，小数用负次幂
* m位n进制最多可表示$n^m$个数，从$0$到$n^m-1$
* 进制转换可用权和法或短除法（小数用短乘法）
## 计算机运算
计算机使用二进制计算。二进制由一串0/1组成，最右边记为低位（LSB），最左边记为高位（MSB）。

（无符号数的手算内容略）

### 带符号数的记法

带符号数有三种记法——原码、反码和补码。

对于正数来说，三种码都一样，直接用二进制数表示，最高位保留作为符号位，记为0；对于负数来说，原码的记法是将符号为记为1，反码是将整个数取反，补码是转换为反码后加1。

计算机记录二进制使用补码，可以证明，无论是正数还是负数，只要将带符号数当做无符号数运算，并自然溢出，都可以得到正确的结果，这样就简化运算了。

### 浮点数的记法

计算机用浮点数来记录小数，这里以单精度浮点数举例。

一个单精度浮点数共32bit，最高位是符号位（记为S），接下来8bit是指数位（记为E），最后是小数位23bit（记为F）

因为一些底层的运作逻辑，指数位可以看做是实际指数加上127后的无符号数，小数位则是默认以1开头的小数（这个1省略掉，所以实际上记录的有效数字有24bit）

转换方式（F当做是`0.xxx...`）：

$$Number = (-1)^S(1+F)(2^{E-127})$$

### 运算

加法就是加法，减法就是补码后的加法，具体略

## 编码

### 八进制和十六进制

八进制很少用，略。十六进制就是在`1-9`之外再加上`A-F`表示，可以在二进制的基础上四个四个数地转换得到。最好记一下二进制与十六进制之间的对应：

| Bin | Hex | Bin | Hex | Bin | Hex | Bin | Hex |
|:---:|:---:|:---:|:---:|:---:|:---:|:---:|:---:|
|0000 |0    |0100 |4    |1000 |8    |1100 |C    |
|0001 |1    |0101 |5    |1001 |9    |1101 |D    |
|0010 |2    |0110 |6    |1010 |A    |1110 |E    |
|0011 |3    |0111 |7    |1011 |B    |1111 |F    |

### BCD码

BCD码（8421码）是为了便于控制液晶显示屏而出现编码。

BCD码以4bit为一组，每组表示十进制一位，对应关系就是上表的`0-9`。大于9的二进制数在BCD码中是不合法的。

BCD码手算可以先转为十进制算完再转回来，也可以用书本的进位法运算，详见书本。

### 格雷码

格雷码的特点是相近的数编码出来也差不多，可以应用在连续变化的数字上，减少电路信号的变化量，从而减少干扰，也可以在轨道寻址时避免扇区交界线造成的数据异常。

二进制转格雷码方法：最高位开始，首位一致，接下来每一位都是二进制对应位和高一位的异或

格雷码转二进制方法：最高位一致，首位一致，接下来每一位都是格雷码对应位和二进制高一位的异或

### 纠错码

这里只介绍奇偶码，可以在数据有奇数个错误时判断数据有误。

奇偶码分偶数码和奇数码，这里以奇数码举例。给定一串数据，在最高位再加一位，使得数据有奇数个一。在校验数据时如果发现有偶数个一说明数据有误