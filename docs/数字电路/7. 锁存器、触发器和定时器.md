# 锁存器、触发器和定时器
## 锁存器
锁存器是具有两个稳定状态（双稳态）的临时储存数据的设备，也称多谐振荡器。
### S-R锁存器
S-R表示Set和Reset，该锁存器由两个与非门/或非门交叉耦合完成，两输入`S`,`R`两输出`Q`,`非Q`。

当`S`有效之后，锁存器置位，`Q`保持为一；当`R`有效之后，锁存器复位，`Q`保持为零；当`S`,`R`均无效，则锁存器保持状态；当`S`,`R`均有效，该状态无效。

用与非门实现的锁存器高电平有效，用或非门实现的锁存器低电平有效。后面使用的S-R锁存器默认采用与非门（非或门）组成的高电平有效锁存器

74HC279是四S-R锁存器，其中有两个锁存器S输入有两个引脚。四个锁存器都只有`Q`输出
### 门控S-R锁存器
门控在S-R锁存器前接入两个与门作为门控，从而引入了片选信号EN，只有EN有效才能改变锁存器状态。
### 门控D锁存器
在门控S-R锁存器的基础上，将复位信号接到置位信号的非，这样输入就只有原本置位信号的D输入和使能信号的EN输入。

74HC75是四门控D锁存器，其中每两个锁存器共用一个使能信号。每个锁存器都有两个输出。
## 边沿触发器
边沿触发器在时钟的边沿上改变状态。
### S-R触发器
在S-R锁存器的基础上引入时钟信号`C`，只有在时钟信号上升沿时锁存器才会改变状态
> 画时序图时时钟信号上升沿要用箭头标注

实现原理是在门控S-R锁存器前接入波形检测器。
波形检测器利用竞争冒险实现。将原信号和原信号的非接入与门，当原信号有上升沿时，原信号变为高电平，而经过非门的原信号由于延迟保持高电平，从而触发与门输出一个尖峰。

### D触发器
类似于D锁存器，将S-R触发器的输入S改名为输入D，原输入R接输入D的非即可。

### J-K触发器
J-K触发器在S-R触发器的基础上进行改善，实现了在输入都为一时将输出取反，克服了S-R触发器在这种情况下无效的问题。输入J对应S-R触发器的输入S，输入K对应输入R。

实现原理就是将S-R触发器的输出反向接到门控的与门上，具体看电路图。

### T触发器
T触发器就是把J-K触发器的两个输入并到T输入中，只能进行保持（T=0）或翻转（T=1）

### T'触发器
T'触发器就是把T触发器的T输入接入高电平，只剩下CP输入，也就是每个时钟周期翻转一次

### 异步预置位和清零
在J-K触发器的基础上引入了预置位输入`PRE`和清零信号`CLR`。`PRE`使触发器置位，`CLR`使触发器复位。实现原理是这两个信号直接接入触发器的锁存器部分。
## 补充内容
### 特性表
为了便于表达触发器的时序特性，引入特性表。特性表在真值表的基础上对输出进行细分，分为信号输入前的现态$Q^n$和信号输入后的次态$Q^{n+1}$。
### 特性方程
同样的，引入现态和次态概念也可以表达触发器的逻辑表达式，称为特性方程。可以运用卡诺图化简。
|触发器|特征方程|
|-----|------|
|S-R触发器|$Q_{n+1}=S+\bar RQ_n$|
|D触发器|$Q_{n+1}=D$|
|J-K触发器|$Q_{n+1}=J\bar Q_n+\bar KQ_n$|
|T触发器|$Q_{n+1}=T\oplus Q_n$|
|T'触发器|$Q_{n+1}=\bar Q_n$|
### 驱动表
对于D触发器这种电路，确定了现态和次态就可以唯一确定输入，那么把这种映射列成表格就构成了驱动表
### 状态转换图
将状态画成圈圈，用箭头和条件表示状态转移条件，画出的有向图就是状态转换图
### 不同逻辑功能间的相互转化
1. 写出待求触发器和给定触发器的特征方程
2. 比较特征方程，得出给定触发器中输入信号的接法
3. 画出给定触发器实现待求触发器的电路

## 触发器运算特性
这里研究电路实际中可能的延迟，下面的开始结束时刻都以信号的50%为标准
### 传播延迟
1. 时钟上升沿到低转高输出$t_{PLH}$
2. 时钟上升沿到高转低输出$t_{PHL}$
3. 预置位到低转高输出$t_{PLH}$
4. 清零到高转低输出$t_{PHL}$
### 建立时间
在时钟上升沿之前，输入信号需要保持稳定一段时间，这段时间的最小值称为建立时间$t_s$
### 保持时间
在时钟上升沿之后，输入信号需要保持稳定一段时间，这段时间的最小值称为保持时间$t_h$
### 最高时钟频率
最高时钟频率$f_{max}$等于最小脉冲宽度的倒数
### 脉冲宽度
最小脉冲宽度$t_w$由时延推导得到
### 功率
电压乘电流
## 应用
1. 并行数据存储
用D触发器直接实现
2. 分频器
用T'触发器串联实现
3. 计数器
将分频器中每个触发器的输出拉出来组成数位实现，上升沿触发的就是递减计数器，下降沿触发的就是递增计数器

## 触发信号
与非门、非门和电容的组合可以组成一个能使短触发信号转换为固定长度的脉冲信号。脉冲长度与RC的值有关。在脉冲周期中再次输入触发信号是否会延长脉冲长度上，分为可重复触发和不可重复触发。
## 555定时器

