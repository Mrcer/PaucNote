# 计数器
## 状态机
状态机是一种输出不仅与输入有关，还与自身状态有关的模型，特点是具有记忆元件和反馈通道

状态机分为摩尔型和米勒型。摩尔型的输出信号仅和状态有关，米勒型状态机输出信号和状态与输入信号有关。需要注意的是判断输出与什么有关是说是否直接相关，所以摩尔型可以有输入到组合逻辑，但输出一定可以只用当前状态运算得到。
## 异步计数器
时序逻辑电路是输出与输入和状态有关的电路，电路由储存电路和组合逻辑电路组成；同步时序逻辑电路需要时钟控制，所有储存器的状态都只会在时钟上升沿/下降沿改变状态；异步时序逻辑电路则存在一些储存器，其状态不一定在时钟上升沿/下降沿改变。
### 二进制异步计数器
将T'触发器直接串联得到的是异步计数器。因为每个芯片都有延迟，每个触发器的状态不会同时改变，所以是异步的。
这种异步计数器又称波纹计数器，每一位传递信号间都有一次芯片延迟，最高位信号距离时钟信号上升沿的延迟就是传输延迟，等于芯片数量乘以芯片延迟。传输延迟不能大于时钟周期
### 十进制异步计数器
计数器的模是计数器序列中历经的特有状态的数目。
一个计数器最大可能状态有$2^n$个（其中n是触发器个数），可以设计计数器使其状态个数少于最大值，这种类型称为截断序列。
最常见的截断是在9处截断，实现十进制计数器。这可以通过与门检测状态，用触发器的复位输入重置状态。由于与门会有延迟，可能会存在短暂的假信号
### 74HC93
74HC93实现了模十六位和模八位计数器，他有两个下降沿有效的时钟输入，CLKA连接单个T'触发器，输出到Q0，CLKB连接三位异步计数器，输出位从低到高分别是Q1,Q2,Q3；此外还有两个高电平有效的复位信号R0和R1，只有他们都为高电平时，内部所有触发器清零。利用这个芯片可以做出八位或十六位计数器，还能利用复位信号来截断。
### 译码
计数器的译码是指检测到计数器处于某个特定状态时输出一，可以用与门接数位实现。由于异步计数器存在延迟，可能会产生毛刺。如果使用带选通信号的译码器译码，可以将时钟信号接入选通输入，从而避免译码器在有毛刺的时间段工作
## 同步计数器
### 十六进制同步计数器
同步计数器要求所有触发器接受相同的时钟信号，而对于某一位状态是否改变，最低位在每次时钟周期一定会改变，其他位会在前面所有位都为一时改变。
### 十进制同步计数器
十进制计时器在十六进制计数器的基础上特判1001的情况，使这时的触发器输入调整到满足下次时钟触发时进入0000状态
### 74HC163
74HC163芯片实现了十六进制同步计数器的功能，他有四个数位输出和一个RCO输出（当计数器状态为15时为高电平，用于拓展），有一个时钟输入、两个使能输入、一个清零和一个加载（均为低电平有效，同步）、四个数位输入
### 加减同步计数器
在十六进制同步计数器的基础上引入控制信号，加法时逻辑不变，减法时类似地，当且仅当该数位的所有低位都为0时才需要改变
### 74HC190
74HC190实现了十进制加减同步计数器，除了时钟信号、四个数位输入和四个数位输出，他还有一个加减控制信号（高减低加），一个低电平有效的使能信号，一个低电平有效的加载信号，一个最值输出（加法模式时在9状态为高，减法状态时在0状态为高），一个RCO输出（低电平有效
### 自启动
如果电路在无效状态中依然能恢复到有效状态，则称他是可以自启动的
## 设计同步计数器
1. 状态图（表示状态转换方式的有向图）
2. 次态表（输入当前状态输出下一状态的表）
3. 触发器转换表（对单个触发器而言，输入其状态转换，输出触发器输入的表）
4. 卡诺图（以状态为输入，对每个触发器的输入端口画卡诺图，对照次态表和转换表化简得到表达式）
5. 电路图
## 级联计数器
* 级联计数器的模等于其中各个计数器模的乘积
* 级联的截断可以通过预置位非零的数来实现，截断后的模等于截断前的模减去预置位的数
## 应用
* 级联计数器可以应用在钟表计数上
* 计数器搭配多路复用器实现多路复用
