# 函数

离散数学中的函数强调其建立了两个几何元素之间的某种对应

## 基本知识

### 基本概念

* （定义7.1）集合A到B的**函数**，记为$f:A\to B$，是笛卡尔积$A\times B$的子集，且满足对任意$a\in A$都有且仅有唯一的$b\in B$使得$\langle a,b\rangle\in f$。由于b存在且唯一，因此记为$b=f(a)$，并称b是a在函数f下的**像**，而a是b在函数f下的的**原像**。上下文明确时可以将f省略而直接说b是a的像/a是b的原像。

* （定义7.2）对于函数$f:A\to B$，称A是f的**定义域**或简称**域**，B是f的**陪域**；定义$S\subseteq A$在$f$下的**像集**为$f(S)=\{y\in B\mid\exists x\in S,y=f(x)\}\subseteq B$，$T\subseteq B$在$f$下的**逆像集**为$f^{-1}(T)$；特别的，称f(A)是f的**值域**，记为**ran(f)**

* 常见函数
    1. 以空集为定义域的函数称为**空函数**
    2. 任意非空集A上的恒等关系$\Delta_A$称为A的**恒等函数**，记作**id**$_A$
    3. 设U是全集，S是U的子集，定义S上的**特征函数**$X_s:U\to 2,2=\{0,1\}$，若x在S中则$X_s(x)=1$，否则$X_s(x)=0$
    4. 设R是非空集A上的等价关系，定义**自然函数**$\rho:A\to A/R,\rho(a)=[a]_R$
    5. 设$(A,\preceq)$和$(B,\preccurlyeq)$是两个偏序集，定义函数$f:A\to B$的**单调递增**性质指对A中的任意两个元素a,b，如果$a\preceq b$则$f(a)\preccurlyeq f(b)$

* 函数又称**映射**，符合定义7.1的函数称为**全函数**，如果存在A中的某个元素无法对应到B中的元素，则这种函数称为**偏函数**。本书不讨论偏函数。

### 函数的性质

* 设$f:A\to B$是函数
    1. 如果$\forall x,y\in A,f(x)=f(y)\to x=y$，也就是说B中每个元素至多对应A中的一个元素，则f是**单函数**（单射）
    2. 如果$ran(f)=B$，也就是说B中的每个元素至少对应A中的一个元素，则f是**满函数**（满射）
    3. 如果f既单射又满射，则f是**双函数**（双射）
    > 只有A的元素数量大于等于B，函数才可能是满射，A的元素数量小于等于B函数才可能是单射，A的元素等于B，函数才可能是双射

* 多元函数可以看做A是有序对集合的函数，有序对的尖括号在无歧义时省略

### 函数运算与函数的性质
集合运算对函数不适用，所以函数运算主要有复合和求逆

* （定义7.4）函数$f:A\to B$和$g:B\to C$的**复合**，记为$g\circ f$，定义为$\forall x\in A,(g\circ f)(x)=g(f(x))$
> 函数复合运算等价于关系复合运算

* （定理7.1）
    1. 函数复合满足结合律：设函数$f:A\to B,g:B\to C,h:C\to D$，有$h\circ(g\circ h)=(h\circ g)\circ f$
    2. 恒等关系是函数复合的单位元：$id_B\circ f=f\circ id_A$

* （定理7.2）函数复合保持单射、满射和双射的性质

* （定义7.5）设$f:A\to B$是双函数，则它的逆关系$f^{-1}$也是函数，称为f的**逆函数**或**反函数**

* （定理7.3）函数$f:A\to B$是双函数当且仅当存在函数$g:B\to A$是的$g\circ f=id_A$且$f\circ g = id_B$，也就是说当且仅当其存在逆函数

* （定义7.6）设函数$f:A\to B$，若函数$g:B\to A$满足$g\circ f=id_A$则g是f的**左逆**，若函数$g:B\to A$满足$f\circ g=id_B$则g是f的**右逆**

* （定理7.4）设函数$f:A\to B$且A非空，f是单函数当且仅当f存在左逆，f是满函数当且仅当f存在右逆


## 函数的增长与算法效率分析

### 函数的增长

* （定义7.12）设f,g是两个数集上的函数，称f**是O(g)**，记为$f\in O(g)$，如果存在常数$C>0$和$k>0$，使得当$x>k$时总有$|f(x)\leq C|g(x)|$，这时常数C和k称为“函数f是O(g)”的见证

!!! note
        $O(g)$其实是函数的集合

* （定理7.14）若f是O(g)，g是O(h)，则f是O(h)
* （引理7.15）定义函数$max(f,g)(x)=max(|f(x)|,|g(x)|)$，则当函数f和g都为O(h)时，max(f,g)也是O(h)
* （定理7.16）若$f_1$是$O(g_1)$，$f_2$是$O(g_2)$，则$f_1+f_2$是$O(max(g_1,g_2))$
* （推论7.17）若$f_1$是$O(g)$，$f_2$是$O(g)$，则$f_1+f_2$是$O(g)$
* （定理7.18）若$f_1$是$O(g_1)$，$f_2$是$O(g_2)$，则$f_1\dot f_2$是$O(g_1\dot g_2)$
* （定义7.19）设f,g是两个数集上的函数，称f**是**$\Omega(g)$，记为$f\in \Omega(g)$，如果存在常数$C>0$和$k>0$，使得当$x>k$时总有$|f(x)\geq C|g(x)|$；称f是$\Theta(g)$，记为$f\in\Theta(g)$，如果$f\in O(g)$并且$f\in \Omega(g)$；如果f是$\Theta(g)$，通常称f和g（在函数增长方面）有相同的**阶**
* （定理7.19）n次多项式是$\Theta(x^n)$的
* （定理7.20）若$f_1$是$O(g_1)$，$f_2$是$\Omega(g_2)$，且对于任意x，$f_2(x)\neq 0$，则$f_1/f_2$是$O(g_1/g_2)$

### 算法效率分析基础

* 算法效率分为**时间效率（时间复杂度）**和**空间效率（空间复杂度）**
* 算法效率分析对不同的输入分**最坏情况**、**最好情况**和**平均情况**
* 时间效率分析框架
    1. 确定哪个或哪些算法输入作为效率分析的依据，并确定如何度量输入规模
    2. 确定算法的基本操作
    3. 分别研究算法关于不同输入对需要执行的基本操作次数的函数的上界/下界

### 算法复杂度基础知识

* 常见的算法复杂度分类及典型算法

|复杂度|名称|可能的典型算法例子|
|-----|-----|----------------|
|$\Theta(1)$|常数|不包括循环和递归的算法|
|$\Theta(\log n)$|对数|二分查找|
|$\Theta(n)$|线性|线性查找|
|$\Theta(n\log n)$|线性对数|许多分治算法|
|$\Theta(n^2)$|平方|二重循环|
|$\Theta(n^3)$|立方|三重循环|
|$\Theta(n^b)$|多项式|基于逻辑积计算传递闭包|
|$\Theta(b^n)$|指数|求幂集|
|$\Theta(n!)$|阶乘|求所有排列组合|

* 通常将最坏情况下存在复杂度为多项式的算法进行求解的问题称为**易解问题**，否则称为**非易解问题**；不可计算的问题称为**不可解问题**
* 易解问题又称为**N问题**，在多项式复杂度内能判断一个候选解是否为真解的问题称为**NP问题**，**NP完全问题（NPC问题）**是所有NP问题都可以被归结为该问题的问题。命题逻辑公式的可满足性问题是一个NPC问题